{
  "description": "In the Linux kernel, the following vulnerability has been resolved:  firmware: arm_ffa: Replace mutex with rwlock to avoid sleep in atomic context  The current use of a mutex to protect the notifier hashtable accesses can lead to issues in the atomic context. It results in the below kernel warnings:    |  BUG: sleeping function called from invalid context at kernel/locking/mutex.c:258   |  in_atomic(): 1, irqs_disabled(): 1, non_block: 0, pid: 9, name: kworker/0:0   |  preempt_count: 1, expected: 0   |  RCU nest depth: 0, expected: 0   |  CPU: 0 UID: 0 PID: 9 Comm: kworker/0:0 Not tainted 6.14.0 #4   |  Workqueue: ffa_pcpu_irq_notification notif_pcpu_irq_work_fn   |  Call trace:   |   show_stack+0x18/0x24 (C)   |   dump_stack_lvl+0x78/0x90   |   dump_stack+0x18/0x24   |   __might_resched+0x114/0x170   |   __might_sleep+0x48/0x98   |   mutex_lock+0x24/0x80   |   handle_notif_callbacks+0x54/0xe0   |   notif_get_and_handle+0x40/0x88   |   generic_exec_single+0x80/0xc0   |   smp_call_function_single+0xfc/0x1a0   |   notif_pcpu_irq_work_fn+0x2c/0x38   |   process_one_work+0x14c/0x2b4   |   worker_thread+0x2e4/0x3e0   |   kthread+0x13c/0x210   |   ret_from_fork+0x10/0x20  To address this, replace the mutex with an rwlock to protect the notifier hashtable accesses. This ensures that read-side locking does not sleep and multiple readers can acquire the lock concurrently, avoiding unnecessary contention and potential deadlocks. Writer access remains exclusive, preserving correctness.  This change resolves warnings from lockdep about potential sleep in atomic context.",
  "scope": "local",
  "releases": {
    "bookworm": {
      "status": "resolved",
      "repositories": {
        "bookworm": "6.1.148-1",
        "bookworm-security": "6.1.158-1"
      },
      "fixed_version": "0",
      "urgency": "unimportant"
    },
    "bullseye": {
      "status": "resolved",
      "repositories": {
        "bullseye": "5.10.223-1",
        "bullseye-security": "5.10.244-1"
      },
      "fixed_version": "0",
      "urgency": "unimportant"
    },
    "forky": {
      "status": "resolved",
      "repositories": {
        "forky": "6.16.12-2"
      },
      "fixed_version": "6.12.37-1",
      "urgency": "not yet assigned"
    },
    "sid": {
      "status": "resolved",
      "repositories": {
        "sid": "6.17.7-2"
      },
      "fixed_version": "6.12.37-1",
      "urgency": "not yet assigned"
    },
    "trixie": {
      "status": "resolved",
      "repositories": {
        "trixie": "6.12.43-1",
        "trixie-security": "6.12.48-1"
      },
      "fixed_version": "6.12.37-1",
      "urgency": "not yet assigned"
    }
  }
}