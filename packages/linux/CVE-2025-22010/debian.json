{
  "description": "In the Linux kernel, the following vulnerability has been resolved:  RDMA/hns: Fix soft lockup during bt pages loop  Driver runs a for-loop when allocating bt pages and mapping them with buffer pages. When a large buffer (e.g. MR over 100GB) is being allocated, it may require a considerable loop count. This will lead to soft lockup:          watchdog: BUG: soft lockup - CPU#27 stuck for 22s!         ...         Call trace:          hem_list_alloc_mid_bt+0x124/0x394 [hns_roce_hw_v2]          hns_roce_hem_list_request+0xf8/0x160 [hns_roce_hw_v2]          hns_roce_mtr_create+0x2e4/0x360 [hns_roce_hw_v2]          alloc_mr_pbl+0xd4/0x17c [hns_roce_hw_v2]          hns_roce_reg_user_mr+0xf8/0x190 [hns_roce_hw_v2]          ib_uverbs_reg_mr+0x118/0x290          watchdog: BUG: soft lockup - CPU#35 stuck for 23s!         ...         Call trace:          hns_roce_hem_list_find_mtt+0x7c/0xb0 [hns_roce_hw_v2]          mtr_map_bufs+0xc4/0x204 [hns_roce_hw_v2]          hns_roce_mtr_create+0x31c/0x3c4 [hns_roce_hw_v2]          alloc_mr_pbl+0xb0/0x160 [hns_roce_hw_v2]          hns_roce_reg_user_mr+0x108/0x1c0 [hns_roce_hw_v2]          ib_uverbs_reg_mr+0x120/0x2bc  Add a cond_resched() to fix soft lockup during these loops. In order not to affect the allocation performance of normal-size buffer, set the loop count of a 100GB MR as the threshold to call cond_resched().",
  "scope": "local",
  "releases": {
    "bookworm": {
      "status": "resolved",
      "repositories": {
        "bookworm": "6.1.148-1",
        "bookworm-security": "6.1.158-1"
      },
      "fixed_version": "6.1.133-1",
      "urgency": "not yet assigned"
    },
    "bullseye": {
      "status": "resolved",
      "repositories": {
        "bullseye": "5.10.223-1",
        "bullseye-security": "5.10.244-1"
      },
      "fixed_version": "5.10.237-1",
      "urgency": "not yet assigned"
    },
    "forky": {
      "status": "resolved",
      "repositories": {
        "forky": "6.16.12-2"
      },
      "fixed_version": "6.12.21-1",
      "urgency": "not yet assigned"
    },
    "sid": {
      "status": "resolved",
      "repositories": {
        "sid": "6.17.7-2"
      },
      "fixed_version": "6.12.21-1",
      "urgency": "not yet assigned"
    },
    "trixie": {
      "status": "resolved",
      "repositories": {
        "trixie": "6.12.43-1",
        "trixie-security": "6.12.48-1"
      },
      "fixed_version": "6.12.21-1",
      "urgency": "not yet assigned"
    }
  }
}