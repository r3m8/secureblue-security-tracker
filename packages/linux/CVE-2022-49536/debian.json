{
  "description": "In the Linux kernel, the following vulnerability has been resolved:  scsi: lpfc: Fix SCSI I/O completion and abort handler deadlock  During stress I/O tests with 500+ vports, hard LOCKUP call traces are observed.  CPU A:  native_queued_spin_lock_slowpath+0x192  _raw_spin_lock_irqsave+0x32  lpfc_handle_fcp_err+0x4c6  lpfc_fcp_io_cmd_wqe_cmpl+0x964  lpfc_sli4_fp_handle_cqe+0x266  __lpfc_sli4_process_cq+0x105  __lpfc_sli4_hba_process_cq+0x3c  lpfc_cq_poll_hdler+0x16  irq_poll_softirq+0x76  __softirqentry_text_start+0xe4  irq_exit+0xf7  do_IRQ+0x7f  CPU B:  native_queued_spin_lock_slowpath+0x5b  _raw_spin_lock+0x1c  lpfc_abort_handler+0x13e  scmd_eh_abort_handler+0x85  process_one_work+0x1a7  worker_thread+0x30  kthread+0x112  ret_from_fork+0x1f  Diagram of lockup:  CPUA                            CPUB ----                            ---- lpfc_cmd->buf_lock                             phba->hbalock                             lpfc_cmd->buf_lock phba->hbalock  Fix by reordering the taking of the lpfc_cmd->buf_lock and phba->hbalock in lpfc_abort_handler routine so that it tries to take the lpfc_cmd->buf_lock first before phba->hbalock.",
  "scope": "local",
  "releases": {
    "bookworm": {
      "status": "resolved",
      "repositories": {
        "bookworm": "6.1.148-1",
        "bookworm-security": "6.1.158-1"
      },
      "fixed_version": "5.18.5-1",
      "urgency": "not yet assigned"
    },
    "bullseye": {
      "status": "open",
      "repositories": {
        "bullseye": "5.10.223-1",
        "bullseye-security": "5.10.244-1"
      },
      "urgency": "not yet assigned"
    },
    "forky": {
      "status": "resolved",
      "repositories": {
        "forky": "6.16.12-2"
      },
      "fixed_version": "5.18.5-1",
      "urgency": "not yet assigned"
    },
    "sid": {
      "status": "resolved",
      "repositories": {
        "sid": "6.17.7-2"
      },
      "fixed_version": "5.18.5-1",
      "urgency": "not yet assigned"
    },
    "trixie": {
      "status": "resolved",
      "repositories": {
        "trixie": "6.12.43-1",
        "trixie-security": "6.12.48-1"
      },
      "fixed_version": "5.18.5-1",
      "urgency": "not yet assigned"
    }
  }
}