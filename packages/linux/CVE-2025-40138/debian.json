{
  "description": "In the Linux kernel, the following vulnerability has been resolved:  f2fs: fix to avoid NULL pointer dereference in f2fs_check_quota_consistency()  syzbot reported a f2fs bug as below:  Oops: gen[  107.736417][ T5848] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000000: 0000 [#1] SMP KASAN PTI KASAN: null-ptr-deref in range [0x0000000000000000-0x0000000000000007] CPU: 1 UID: 0 PID: 5848 Comm: syz-executor263 Tainted: G        W           6.17.0-rc1-syzkaller-00014-g0e39a731820a #0 PREEMPT_{RT,(full)} RIP: 0010:strcmp+0x3c/0xc0 lib/string.c:284 Call Trace:  <TASK>  f2fs_check_quota_consistency fs/f2fs/super.c:1188 [inline]  f2fs_check_opt_consistency+0x1378/0x2c10 fs/f2fs/super.c:1436  __f2fs_remount fs/f2fs/super.c:2653 [inline]  f2fs_reconfigure+0x482/0x1770 fs/f2fs/super.c:5297  reconfigure_super+0x224/0x890 fs/super.c:1077  do_remount fs/namespace.c:3314 [inline]  path_mount+0xd18/0xfe0 fs/namespace.c:4112  do_mount fs/namespace.c:4133 [inline]  __do_sys_mount fs/namespace.c:4344 [inline]  __se_sys_mount+0x317/0x410 fs/namespace.c:4321  do_syscall_x64 arch/x86/entry/syscall_64.c:63 [inline]  do_syscall_64+0xfa/0x3b0 arch/x86/entry/syscall_64.c:94  entry_SYSCALL_64_after_hwframe+0x77/0x7f  The direct reason is f2fs_check_quota_consistency() may suffer null-ptr-deref issue in strcmp().  The bug can be reproduced w/ below scripts: mkfs.f2fs -f /dev/vdb mount -t f2fs -o usrquota /dev/vdb /mnt/f2fs quotacheck -uc /mnt/f2fs/ umount /mnt/f2fs mount -t f2fs -o usrjquota=aquota.user,jqfmt=vfsold /dev/vdb /mnt/f2fs mount -t f2fs -o remount,usrjquota=,jqfmt=vfsold /dev/vdb /mnt/f2fs umount /mnt/f2fs  So, before old_qname and new_qname comparison, we need to check whether they are all valid pointers, fix it.",
  "scope": "local",
  "releases": {
    "bookworm": {
      "status": "resolved",
      "repositories": {
        "bookworm": "6.1.148-1",
        "bookworm-security": "6.1.158-1"
      },
      "fixed_version": "0",
      "urgency": "unimportant"
    },
    "bullseye": {
      "status": "resolved",
      "repositories": {
        "bullseye": "5.10.223-1",
        "bullseye-security": "5.10.244-1"
      },
      "fixed_version": "0",
      "urgency": "unimportant"
    },
    "forky": {
      "status": "resolved",
      "repositories": {
        "forky": "6.16.12-2"
      },
      "fixed_version": "0",
      "urgency": "unimportant"
    },
    "sid": {
      "status": "resolved",
      "repositories": {
        "sid": "6.17.7-2"
      },
      "fixed_version": "0",
      "urgency": "unimportant"
    },
    "trixie": {
      "status": "resolved",
      "repositories": {
        "trixie": "6.12.43-1",
        "trixie-security": "6.12.48-1"
      },
      "fixed_version": "0",
      "urgency": "unimportant"
    }
  }
}